{"version":3,"sources":["../../src/database/index.js"],"names":["models","User","File","Appointment","Database","init","mongo","connection","Sequelize","configDatabase","map","model","associate","mongoose","connect","process","env","MONGO_URL","useNewUrlParser","useFindAndModify","useUnifiedTopology"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,CAACC,cAAD,EAAOC,cAAP,EAAaC,qBAAb,CAAf;;IAEMC,Q;AACJ,sBAAc;AAAA;;AACZ,SAAKC,IAAL;AACA,SAAKC,KAAL;AACD;;;;2BAEM;AAAA;;AACL,WAAKC,UAAL,GAAkB,IAAIC,mBAAJ,CAAcC,kBAAd,CAAlB;;AAEAT,aACGU,GADH,CACO,UAACC,KAAD;AAAA,eAAWA,MAAMN,IAAN,CAAW,MAAKE,UAAhB,CAAX;AAAA,OADP,EAEGG,GAFH,CAEO,UAACC,KAAD;AAAA,eAAWA,MAAMC,SAAN,IAAmBD,MAAMC,SAAN,CAAgB,MAAKL,UAAL,CAAgBP,MAAhC,CAA9B;AAAA,OAFP;AAGD;;;4BAEO;AACNa,yBAASN,UAAT,GAAsBM,mBAASC,OAAT,CAAiBC,QAAQC,GAAR,CAAYC,SAA7B,EAAwC;AAC5DC,yBAAiB,IAD2C;AAE5DC,0BAAkB,IAF0C;AAG5DC,4BAAoB;AAHwC,OAAxC,CAAtB;AAKD;;;;;kBAGY,IAAIhB,QAAJ,E","file":"index.js","sourcesContent":["import Sequelize, { TableHints } from 'sequelize';\nimport mongoose from 'mongoose';\n\nimport configDatabase from '../config/database';\n\nimport User from '../app/models/User';\nimport File from '../app/models/File';\nimport Appointment from '../app/models/Appointment';\n\nconst models = [User, File, Appointment];\n\nclass Database {\n  constructor() {\n    this.init();\n    this.mongo();\n  }\n\n  init() {\n    this.connection = new Sequelize(configDatabase);\n\n    models\n      .map((model) => model.init(this.connection))\n      .map((model) => model.associate && model.associate(this.connection.models));\n  }\n\n  mongo() {\n    mongoose.connection = mongoose.connect(process.env.MONGO_URL, {\n      useNewUrlParser: true,\n      useFindAndModify: true,\n      useUnifiedTopology: true\n    });\n  }\n}\n\nexport default new Database();\n"]}