{"version":3,"sources":["../../../src/database/migrations/20200306150508-add-avatar-field-to-users.js"],"names":["module","exports","up","queryInterface","Sequelize","addColumn","type","INTEGER","references","model","key","onUpdate","onDelete","allowNull","down","removeColumns"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAACC,cAAD,EAAiBC,SAAjB,EAA+B;AACjC,WAAOD,eAAeE,SAAf,CACL,OADK,EAEL,WAFK,EAGL;AACEC,YAAMF,UAAUG,OADlB;AAEEC,kBAAY,EAAEC,OAAO,OAAT,EAAkBC,KAAK,IAAvB,EAFd;AAGEC,gBAAU,SAHZ;AAIEC,gBAAU,UAJZ;AAKEC,iBAAW;AALb,KAHK,CAAP;AAWD,GAbc;;AAefC,QAAM,cAACX,cAAD,EAAoB;AACxB,WAAOA,eAAeY,aAAf,CACL,OADK,EAEL,WAFK,CAAP;AAID;AApBc,CAAjB","file":"20200306150508-add-avatar-field-to-users.js","sourcesContent":["'use strict';\n\nmodule.exports = {\n  up: (queryInterface, Sequelize) => {\n    return queryInterface.addColumn(\n      'users',\n      'avatar_id',\n      {\n        type: Sequelize.INTEGER,\n        references: { model: 'files', key: 'id' },\n        onUpdate: 'CASCADE',\n        onDelete: 'SET NULL',\n        allowNull: true\n      }\n    )\n  },\n\n  down: (queryInterface) => {\n    return queryInterface.removeColumns(\n      'users',\n      'avatar_id'\n    )\n  }\n};\n"]}